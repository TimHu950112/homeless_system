# ç„¡å®¶è€…æœå‹™æ•´åˆå¹³å° - JSON æœ¬åœ°å­˜å„²ç‰ˆæœ¬

## âœ¨ ç‰¹è‰²

- âœ… **ç„¡éœ€æ•¸æ“šåº«**: ä½¿ç”¨ JSON æ–‡ä»¶æœ¬åœ°å­˜å„²ï¼Œç„¡éœ€å®‰è£ PostgreSQL æˆ– MySQL
- âœ… **è‡ªå‹•åˆå§‹åŒ–**: å•Ÿå‹•æ™‚è‡ªå‹•å‰µå»ºç¤ºä¾‹æ•¸æ“š
- âœ… **ç°¡å–®éƒ¨ç½²**: åªéœ€ Flask å’Œ Flask-Loginï¼Œä¾è³´æ¥µå°‘
- âœ… **æ˜“æ–¼å‚™ä»½**: æ‰€æœ‰æ•¸æ“šå­˜å„²åœ¨ `data/` ç›®éŒ„ï¼Œç›´æ¥è¤‡è£½å³å¯å‚™ä»½

## ğŸš€ å¿«é€Ÿé–‹å§‹

### 1. å®‰è£ä¾è³´ï¼ˆä½¿ç”¨ Pipenvï¼‰

```bash
cd /Users/timtim/Downloads/system/homeless_services
pipenv install
```

### 2. é‹è¡Œæ‡‰ç”¨

```bash
pipenv run python run.py
```

æˆ–

```bash
pipenv shell
python run.py
```

### 3. è¨ªå•ç¶²ç«™

æ‰“é–‹ç€è¦½å™¨è¨ªå•: **http://localhost:5000**

## ğŸ”‘ æ¸¬è©¦å¸³è™Ÿ

| è§’è‰² | å¸³è™Ÿ | å¯†ç¢¼ | é»æ•¸ |
|------|------|------|------|
| ä¸€èˆ¬ç”¨æˆ¶ | user1 | password123 | 100 |
| ä¸€èˆ¬ç”¨æˆ¶ | user2 | password123 | 50 |
| ç¤¾å·¥ | social_worker | password123 | 0 |
| ç®¡ç†å“¡ | admin | admin123 | 0 |

## ğŸ“ æ•¸æ“šå­˜å„²çµæ§‹

æ‰€æœ‰æ•¸æ“šå­˜å„²åœ¨ `data/` ç›®éŒ„ä¸‹çš„ JSON æ–‡ä»¶ä¸­ï¼š

```
data/
â”œâ”€â”€ users.json                      # ç”¨æˆ¶è³‡æ–™
â”œâ”€â”€ accommodations.json             # æ”¶å®¹æ‰€
â”œâ”€â”€ accommodation_bookings.json     # ä½å®¿é ç´„
â”œâ”€â”€ hygiene_facilities.json         # ç›¥æ´—è¨­æ–½
â”œâ”€â”€ hygiene_bookings.json           # ç›¥æ´—é ç´„
â”œâ”€â”€ food_providers.json             # é¤é£Ÿä¾›æ‡‰é»
â”œâ”€â”€ meal_vouchers.json              # é¤åˆ¸
â”œâ”€â”€ food_distributions.json         # å‰©é£Ÿç™¼æ”¾
â”œâ”€â”€ courses.json                    # èª²ç¨‹
â”œâ”€â”€ course_enrollments.json         # èª²ç¨‹å ±å
â”œâ”€â”€ health_providers.json           # é†«ç™‚æ©Ÿæ§‹
â”œâ”€â”€ health_records.json             # å¥åº·è¨˜éŒ„
â”œâ”€â”€ health_appointments.json        # å°±è¨ºé ç´„
â”œâ”€â”€ jobs.json                       # å·¥ä½œæ©Ÿæœƒ
â”œâ”€â”€ job_applications.json           # å·¥ä½œç”³è«‹
â”œâ”€â”€ welfare_programs.json           # ç¦åˆ©è¨ˆç•«
â”œâ”€â”€ welfare_applications.json       # ç¦åˆ©ç”³è«‹
â””â”€â”€ point_transactions.json         # é»æ•¸äº¤æ˜“è¨˜éŒ„
```

## ğŸ”„ æ•¸æ“šç®¡ç†

### é‡ç½®æ•¸æ“š

åˆªé™¤ `data/` ç›®éŒ„ï¼Œé‡æ–°é‹è¡Œæ‡‰ç”¨å³å¯è‡ªå‹•é‡å»ºç¤ºä¾‹æ•¸æ“šï¼š

```bash
rm -rf data
python run.py
```

### å‚™ä»½æ•¸æ“š

ç›´æ¥è¤‡è£½ `data/` ç›®éŒ„ï¼š

```bash
cp -r data data_backup_$(date +%Y%m%d)
```

### æ¢å¾©æ•¸æ“š

å°‡å‚™ä»½çš„ç›®éŒ„é‡å‘½åç‚º `data`ï¼š

```bash
mv data_backup_20251016 data
```

## ğŸ¯ ç³»çµ±ç‰¹é»

### è‡ªå‹•åˆå§‹åŒ–

é¦–æ¬¡é‹è¡Œæ™‚ï¼Œç³»çµ±æœƒè‡ªå‹•å‰µå»ºï¼š
- 4å€‹æ¸¬è©¦ç”¨æˆ¶
- 3å€‹æ”¶å®¹æ‰€
- 1å€‹ç›¥æ´—è¨­æ–½
- 2å€‹é¤é£Ÿä¾›æ‡‰é»
- 2å€‹åŸ¹è¨“èª²ç¨‹
- 2å€‹é†«ç™‚æ©Ÿæ§‹
- 2å€‹å·¥ä½œæ©Ÿæœƒ
- 2å€‹ç¦åˆ©è¨ˆç•«

### JSON æ•¸æ“šåº«API

ç³»çµ±æä¾›ç°¡æ½”çš„æ•¸æ“šåº«æ“ä½œAPIï¼š

```python
from app.database import db

# ç²å–æ‰€æœ‰ç”¨æˆ¶
users = db.get_all('users')

# æ ¹æ“š ID ç²å–
user = db.get_by_id('users', 1)

# æ¢ä»¶æŸ¥è©¢
active_users = db.find('users', is_active=True)

# æ’å…¥æ•¸æ“š
new_user = db.insert('users', {
    'username': 'newuser',
    'points': 0
})

# æ›´æ–°æ•¸æ“š
db.update('users', 1, {'points': 150})

# åˆªé™¤æ•¸æ“š
db.delete('users', 1)

# è¨ˆæ•¸
count = db.count('users', is_active=True)
```

## ğŸ“¦ ä¾è³´

åƒ…éœ€3å€‹Pythonå¥—ä»¶ï¼š

```
Flask==3.0.0
Flask-Login==0.6.3
Werkzeug==3.0.1
```

## âš¡ æ€§èƒ½èªªæ˜

- **é©ç”¨å ´æ™¯**: ä¸­å°å‹éƒ¨ç½²ï¼ˆ< 10,000 ç”¨æˆ¶ï¼‰
- **è®€å–é€Ÿåº¦**: æ¯«ç§’ç´š
- **å¯«å…¥é€Ÿåº¦**: æ¯«ç§’ç´šï¼ˆå–®å€‹JSONæ–‡ä»¶ï¼‰
- **ä¸¦ç™¼æ”¯æŒ**: é©åˆå–®æ©Ÿéƒ¨ç½²

## ğŸ” å®‰å…¨æ€§

- å¯†ç¢¼ä½¿ç”¨ Werkzeug åŠ å¯†å­˜å„²
- Flask-Login ç®¡ç†æœƒè©±
- æ‰€æœ‰æ•æ„Ÿæ•¸æ“šå¯åŠ å¯†å­˜å„²

## ğŸ“ æ³¨æ„äº‹é …

1. **ç”Ÿç”¢ç’°å¢ƒ**: å»ºè­°ä½¿ç”¨çœŸå¯¦æ•¸æ“šåº«ï¼ˆPostgreSQL/MySQLï¼‰ä»¥ç²å¾—æ›´å¥½çš„æ€§èƒ½å’Œä¸¦ç™¼æ”¯æŒ
2. **æ•¸æ“šå‚™ä»½**: å®šæœŸå‚™ä»½ `data/` ç›®éŒ„
3. **ä¸¦ç™¼å¯«å…¥**: JSON å­˜å„²ä¸æ”¯æŒé«˜ä¸¦ç™¼å¯«å…¥ï¼Œé©åˆè®€å¤šå¯«å°‘çš„å ´æ™¯

## ğŸ”„ é·ç§»åˆ°æ•¸æ“šåº«

å¦‚éœ€é·ç§»åˆ°çœŸå¯¦æ•¸æ“šåº«ï¼Œå¯åƒè€ƒåŸç‰ˆçš„ SQLAlchemy å¯¦ç¾ï¼š

1. å®‰è£æ•¸æ“šåº«ä¾è³´: `pipenv install flask-sqlalchemy`
2. ä½¿ç”¨ `app/__init___old.py` å’Œ `app/models/*_old.py` æ–‡ä»¶
3. é…ç½®æ•¸æ“šåº«é€£æ¥å­—ç¬¦ä¸²

## ğŸ“ æ”¯æŒ

å¦‚æœ‰å•é¡Œï¼Œè«‹åƒè€ƒï¼š
- `README.md` - å®Œæ•´é …ç›®èªªæ˜
- `SETUP.md` - å®‰è£æŒ‡å—
- `PROJECT_SUMMARY.md` - é …ç›®ç¸½çµ

---

**äº«å—ç°¡å–®çš„éƒ¨ç½²é«”é©—ï¼** ğŸ‰
